"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9315],{79315:(e,t,i)=>{i.r(t),i.d(t,{PriceWrapper:()=>l,mergeArrays:()=>o,mergeDomainArrays:()=>p,mergeObjectDomainArrays:()=>s,removeNK:()=>u});var n=i(74848),a=i(20370),r=i(96540),c=i(31330);let l=e=>{var t,i,l,u;let[m,f]=(0,r.useState)(e);(0,r.useEffect)(()=>()=>{f(e)},[e]);let y=(0,a.I)(m.type)?(0,a.Q)(m.type):null,[_,I]=(0,r.useState)(null),[E,g]=(0,r.useState)(null),[b,T]=(0,r.useState)(null),[A,w]=(0,r.useState)(null),[O,h]=(0,r.useState)(null),[N,S]=(0,r.useState)(null),[j,K]=(0,r.useState)(null),[D,L]=(0,r.useState)(null);if((null==m?void 0:null===(i=m.content)||void 0===i?void 0:null===(t=i.items)||void 0===t?void 0:t.some(e=>{var t;return null===(t=e.featureTableProduct)||void 0===t?void 0:t.some(e=>{var t,i;return null===(i=e.content)||void 0===i?void 0:null===(t=i.articles)||void 0===t?void 0:t.length})}))&&m.content.items.forEach(e=>{var t;null===(t=e.featureTableProduct)||void 0===t||t.forEach(e=>{var t,i;(null===(i=e.content)||void 0===i?void 0:null===(t=i.articles)||void 0===t?void 0:t.length)&&(e.content.products=e.content.products||[],e.content.products.forEach((t,i)=>{var n;t.articles=t.articles||[],e.content.articles[i]&&t.articles.push(e.content.articles[i]),t.articleId=null===(n=t.articles[0])||void 0===n?void 0:n.articleId}))})}),(0,r.useEffect)(()=>{var e;let t=null===(e=(0,c.JA)(m,[],"priceTemplate",[],!1)[0])||void 0===e?void 0:e.value;(async()=>{if("price_wrapper"!==m.type&&"corporate_stage"!==m.type&&"product_advisor"!==m.type&&"split_stage"!==m.type&&"row_text"!==m.type&&"feature_table_details"!==m.type){let e=d(m);e?I(await (0,c.K3)((0,c.JA)(m,_,"articleId",[],!1),t,e,v(m))):I(await (0,c.K3)((0,c.JA)(m,_,"articleId",[],!1),t,null,v(m)))}})()},[m]),(0,r.useEffect)(()=>{(async()=>{if("feature_table_container"===m.type&&(null==m?void 0:m.content)&&Array.isArray(m.content.items)){var e;null===(e=m.content)||void 0===e||e.items;let t=m.content.items;t&&t.map(async(e,t)=>{let{featureTableDetail:i}=e,n=(0,c.JA)(i,[],"articleId",[],!1,["licences"]),a=await (0,c.K3)(n,"MINIMAL_INFO");a&&Object.assign(m.content.items[t].featureTableDetail[0],{regularPrice:a})})}})()},[m]),(0,r.useEffect)(()=>{(async()=>{if("feature_table_details"===m.type){let e=(0,c.JA)(m,[],"articleId",[],!1,["licences"]),t=await (0,c.K3)(e,"MINIMAL_INFO");t&&I(t)}})()},[m]),(0,r.useEffect)(()=>{(async()=>{if("row_text"===m.type){let e=(0,c.JA)(m,[],"articleId",[],!1,["licences"]),t=await (0,c.K3)(e,"FEATURE_TABLE");t&&I(t)}})()},[m]),(0,r.useEffect)(()=>{if("domain_jumbotron"===m.type){let e=async()=>{if(m.content.tldIcons){let e=m.content.tldIcons.map(e=>{var t,i;return{cmsIdentifier:null===(t=e.articles)||void 0===t?void 0:t.articleId,productType:null===(i=e.articles)||void 0===i?void 0:i.productType}});K(await (0,c.Vt)(e,"ONE_LINE_NK"))}};(async()=>{m.article&&S(await (0,c.K3)([{cmsIdentifier:m.article,productType:"DOMAIN"}],"DEFAULT"))})(),e()}},[m]),(0,r.useEffect)(()=>{(async()=>{"corporate_stage"===m.type&&m.article&&g(await (0,c.K3)({value:m.article},m.content.priceTemplate))})()},[m]),(0,r.useEffect)(()=>{(async()=>{if("split_stage"===m.type){let e=(0,c.JA)(m,[],"articleId"),t=e&&await (0,c.K3)(e,"ONE_LINE_NK_STARTING_AT");t&&Object.assign(m.content.leftContent[0],{price:t}),L(t)}})()},[m]),(0,r.useEffect)(()=>{(async()=>{if("split_stage"===m.type&&m.articles){let e=m.articles.map(e=>({cmsIdentifier:e.articleId,productType:e.productType})),t=e&&await (0,c.Vt)(e,"ONE_LINE_NK");m.content.domainTitle=m.domainTitle,t&&Object.assign(m.content,{price:t}),T(t)}})()},[m]),(0,r.useEffect)(()=>{(async()=>{("columns"===m.type||"advice"===m.type)&&w(await (0,c.K3)((0,c.wc)(m.content.items),"FULL_DISCLOSURE_CROSS_PRICE"))})()},[m]),(0,r.useEffect)(()=>{(async()=>{if("domain_cards"===m.type||"domain_columns"===m.type){let e=await (0,c.K3)((0,c.gX)(m.content.items),"DEFAULT");O||h(e)}})()},[m.type,m.content.items]),(0,r.useEffect)(()=>{if(O&&("domain_cards"===m.type||"domain_columns"===m.type)){let e=p(m.content.items,O);f({...m,content:{...m.content,items:e}})}},[O]),(0,r.useEffect)(()=>{if(O){let e=p([...m.content.items],O);f({...m,content:{...m.content,items:e}})}},[O]),"corporate_stage"===m.type&&E&&(m.content.price=E[0]),"split_stage"===m.type&&D&&Object.assign(m.content.leftContent[0],{price:D}),"split_stage"===m.type&&b&&Object.assign(m.content,{price:b}),("columns"===m.type||"advice"===m.type)&&(m.content.items.some(e=>e.articles&&e.articles.some(e=>"DOMAIN"===e.productType))?s(m.content.items,A):o(m.content.items,A)),("domain_cards"===m.type||"domain_columns"===m.type)&&p(m.content.items,O),"feature_table_details"===m.type&&Object.assign(m.content,{regularPrice:_}),"domain_jumbotron"===m.type){if(N&&Object.assign(m.content,{price:N[0]}),j){let e=m.content.tldIcons.map((e,t)=>void 0!==j[t]?{...e,articles:{...e.articles,price:j[t]}}:e);m.content.tldIcons=e}}else(0,c.JA)(m,_,"articleId",[],!0),"feature_table_container"===m.type&&(null===(u=m.content)||void 0===u?void 0:u.items)&&(()=>{var e;null===(e=m.content)||void 0===e||e.items.map(e=>{e.featureTableProduct.map(e=>{e.content&&e.content.articleDropdowns&&e.content.articleDropdowns.forEach(e=>{e.articleCollections&&e.articleCollections.forEach(e=>{e.articles&&e.articles.forEach(e=>{var t;let i=null;(i=_&&(null===(t=_[0])||void 0===t?void 0:t.orderFactor)?_&&_.find(t=>{var i;return(null===(i=t.cmsIdentifier)||void 0===i?void 0:i.value)===e.articleId&&t.orderFactor===e.orderFactor}):_&&_.find(t=>{var i;return(null===(i=t.cmsIdentifier)||void 0===i?void 0:i.value)===e.articleId}))?(e.priceHtmlTemplate=i.priceHtmlTemplate,e.orderFactorVariantIdentifier=i.orderFactorVariantIdentifier):e.priceHtmlTemplate="null"})})})})})})();return"feature_table_container"===m.type&&(null===(l=m.content)||void 0===l||l.items),"row_text"===m.type&&Object.assign(m.content,{priceInfo:_}),y&&(0,n.jsx)(y,{price:null==e?void 0:e.price,...m.content,considerGapProperties:!0},"component-".concat(m.type,"-").concat(m.id))},o=(e,t)=>{e.map(e=>{null==t||t.map(t=>{var i;e.article===(null==t?void 0:null===(i=t.cmsIdentifier)||void 0===i?void 0:i.value)&&Object.assign(e,{price:t})})})},s=(e,t)=>{e&&t&&e.map(e=>{null==t||t.map(t=>{var i,n;((null===(i=t.cmsModelDTO)||void 0===i?void 0:i.cmsIdentifier.startsWith(e.article))||(null===(n=t.cmsModelDTO)||void 0===n?void 0:n.cmsIdentifier.startsWith(e.domain)))&&Object.assign(e,{price:t})})})},d=e=>{if((null==e?void 0:e.type)==="toggle_container"||(null==e?void 0:e.type)==="feature_table_container"){var t,i,n;let a=null==e?void 0:null===(t=e.content)||void 0===t?void 0:t.datacenters;if(a&&Array.isArray(a)&&a.length>0&&(null===(i=a[0])||void 0===i?void 0:i.datacenterId))return new URLSearchParams(window.location.search).get("datacenterId")||(null===(n=a[0])||void 0===n?void 0:n.datacenterId)}return null},u=e=>e?e.map(e=>e.cmsIdentifier&&e.cmsIdentifier?{...e,cmsIdentifier:e.cmsIdentifier}:e):e,p=(e,t)=>e&&t?e.map(e=>{let i=t.find(t=>{var i;let n=null===(i=t.cmsModelDTO)||void 0===i?void 0:i.cmsIdentifier;return n.startsWith(e.article)||n.startsWith(e.domain)});return i?{...e,price:i}:e}):e,v=e=>{var t,i;return null===(i=e.content)||void 0===i?void 0:null===(t=i.items)||void 0===t?void 0:t.some(e=>{var t;return null===(t=e.featureTableProduct)||void 0===t?void 0:t.some(e=>{var t;return(null===(t=e.content)||void 0===t?void 0:t.useOrderabilityCheck)===!0})})}}}]);